<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Afnad | CSE Student & AI Enthusiast</title>
    <meta name="description" content="Afnad is a CSE student from East West University with expertise in AI, web development, and software projects. Explore his journey, blog, and technical work.">
    <meta name="keywords" content="Afnad, Portfolio, CSE Student, East West University, Java, C, Python, AI, Machine Learning, Developer, Llama 3.1, Gemini">
    
    <!-- Social Media Meta Tags (Open Graph) -->
    <meta property="og:title" content="Afnad | CSE Student Portfolio">
    <meta property="og:description" content="A showcase of my journey as a computer science student, my skills, and my passion for technology.">
    <meta property="og:image" content="https://afnad.netlify.app/og-image.png">
    <meta property="og:url" content="https://afnad.netlify.app/">

    <!-- SEO Schema for Website -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Afnad's Portfolio",
      "url": "https://afnad.netlify.app/",
      "author": {
        "@type": "Person",
        "name": "Afnad"
      },
      "about": {
        "@type": "Person",
        "name": "Afnad",
        "url": "https://afnad.netlify.app/",
        "image": "https://afnad.netlify.app/logo.png",
        "jobTitle": "CSE Student & AI Enthusiast",
        "worksFor": {
          "@type": "Organization",
          "name": "East West University"
        },
        "alumniOf": {
          "@type": "CollegeOrUniversity",
          "name": "East West University",
          "sameAs": "https://www.ewubd.edu/"
        },
        "knowsAbout": ["Java", "Python", "C++", "JavaScript", "AI", "Machine Learning", "Software Development", "Web Development"]
      }
    }
    </script>
    
    <!-- Favicon Configuration -->
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="favicon.png">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Poppins (Primary) & Roboto Mono (Code) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Prism.js for Code Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css">

    <!-- Three.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Puter.js for AI -->
    <script src="https://js.puter.com/v2/"></script>

    <style>
        /* Define fonts and base styles */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Define CSS variables for theming */
        :root {
            --color-bg: #f0f4f8; /* Light mode background */
            --color-text: #1a202c; /* Light mode text */
            --color-text-secondary: #4a5568; /* Light mode secondary text */
            --color-primary: #3b82f6;
            --color-primary-hover: #2563eb;
            --color-card-bg: #ffffff;
            --color-border: #e2e8f0;
            --header-bg: rgba(255, 255, 255, 0.5);
        }

        html.dark {
            --color-bg: #0d1117; /* Dark mode background */
            --color-text: #c9d1d9; /* Dark mode text */
            --color-text-secondary: #8b949e; /* Dark mode secondary text */
            --color-card-bg: #161b22;
            --color-border: #30363d;
            --header-bg: rgba(13, 17, 23, 0.5);
        }

        /* Canvas for 3D background */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Glassmorphism header style */
        .glass-header {
            background-color: var(--header-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--color-border);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        /* Custom scrollbar styles */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--color-bg); }
        ::-webkit-scrollbar-thumb {
            background-color: var(--color-primary);
            border-radius: 10px;
            border: 2px solid var(--color-bg);
        }
        
        /* Gradient text */
        .gradient-text {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Scroll-triggered animation setup */
        .scroll-animate {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .scroll-animate.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom Styles for Afnad's Features */
        .code-font { font-family: 'Roboto Mono', monospace; }
        
        /* Modal Styles */
        .modal-overlay {
            background-color: rgba(13, 17, 23, 0.7);
            backdrop-filter: blur(8px);
        }
        
        /* Experience Slider */
        .experience-slide { display: none; animation: fade 0.5s ease; }
        .experience-slide.active { display: block; }
        @keyframes fade { from {opacity: .4} to {opacity: 1} }

        /* AI Loader */
        .loader {
            width: 20px; height: 20px;
            border: 3px solid rgba(255,255,255,0.2);
            border-top-color: white;
            border-radius: 50%;
            display: inline-block;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Active Nav Link */
        .nav-link.active { color: var(--color-primary); }

        /* Styling for prose content in modals */
        .prose-custom p { margin-bottom: 1em; }
        .prose-custom strong { color: var(--color-text); }
        .prose-custom a { color: var(--color-primary); text-decoration: underline; }
    </style>
</head>
<body class="bg-[var(--color-bg)] text-[var(--color-text)]">

    <!-- 3D Background Canvas -->
    <canvas id="bg-canvas"></canvas>

    <!-- Header -->
    <header id="main-header" class="fixed top-0 left-0 w-full z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="#home" class="text-2xl font-bold">
                <span class="gradient-text code-font">Afnad</span>
            </a>
            
            <!-- Desktop Navigation -->
            <nav class="hidden md:flex items-center space-x-6">
                <a href="#about" class="nav-link hover:text-[var(--color-primary)] transition-colors">About</a>
                <a href="#skills" class="nav-link hover:text-[var(--color-primary)] transition-colors">Skills</a>
                <a href="#experience" class="nav-link hover:text-[var(--color-primary)] transition-colors">Experience</a>
                <a href="#projects" class="nav-link hover:text-[var(--color-primary)] transition-colors">Projects</a>
                <a href="#blog" class="nav-link hover:text-[var(--color-primary)] transition-colors">Articles</a>
                <a href="#ai-playground" class="nav-link hover:text-[var(--color-primary)] transition-colors">AI Playground</a>
            </nav>

            <!-- CTA and Theme Toggle -->
            <div class="flex items-center space-x-4">
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                    <svg id="theme-icon-light" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                    <svg id="theme-icon-dark" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
                </button>
                <a href="#contact" class="hidden sm:inline-block bg-[var(--color-primary)] text-white font-semibold px-5 py-2 rounded-lg hover:bg-[var(--color-primary-hover)] transition-all duration-300 shadow-lg hover:shadow-xl">
                    Contact Me
                </a>
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-btn" class="md:hidden p-2">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
                </button>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-[var(--color-card-bg)] border-t border-[var(--color-border)]">
            <a href="#about" class="block py-3 px-6 text-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">About</a>
            <a href="#skills" class="block py-3 px-6 text-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">Skills</a>
            <a href="#experience" class="block py-3 px-6 text-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">Experience</a>
            <a href="#projects" class="block py-3 px-6 text-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">Projects</a>
            <a href="#blog" class="block py-3 px-6 text-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">Articles</a>
            <a href="#ai-playground" class="block py-3 px-6 text-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">AI Playground</a>
            <a href="#contact" class="block py-3 px-6 text-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">Contact</a>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Home Section -->
        <section id="home" class="min-h-screen flex items-center justify-center text-center px-4 pt-24">
            <div class="max-w-4xl">
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-4 leading-tight scroll-animate">
                    Hi, I'm <span class="gradient-text">Afnad</span>
                </h1>
                <h2 class="text-2xl md:text-3xl font-bold mb-4 code-font scroll-animate" style="transition-delay: 100ms;">Computer Science Student | AI & Software</h2>
                <p class="text-lg md:text-xl max-w-2xl mx-auto mb-8 text-[var(--color-text-secondary)] scroll-animate" style="transition-delay: 200ms;">
                    I build things for the web, powered by <span class="typing-animation font-semibold text-[var(--color-primary)]"></span>
                </p>
                <div class="space-x-4 scroll-animate" style="transition-delay: 300ms;">
                    <a href="#about" class="bg-[var(--color-primary)] text-white font-bold px-8 py-3 rounded-lg hover:bg-[var(--color-primary-hover)] transition-all duration-300 shadow-lg hover:shadow-xl text-lg">
                        Explore My Journey
                    </a>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-20 lg:py-32 px-4 bg-[var(--color-card-bg)] border-y border-[var(--color-border)]">
             <div class="container mx-auto grid md:grid-cols-2 gap-12 items-center">
                <div class="scroll-animate" style="transition-delay: 150ms;">
                    <div class="max-w-md mx-auto p-4 bg-[var(--color-bg)] rounded-2xl shadow-inner">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="svg-grad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color: #8b5cf6; stop-opacity:1"></stop>
                                    <stop offset="100%" style="stop-color: #3b82f6; stop-opacity:1"></stop>
                                </linearGradient>
                            </defs>
                            <rect width="200" height="200" fill="transparent" rx="15"/>
                            <rect x="80" y="80" width="40" height="40" fill="none" stroke="url(#svg-grad)" stroke-width="3" rx="5"/>
                            <circle cx="100" cy="100" r="12" fill="var(--color-primary)"/>
                            <path d="M100 80 V 40 H 160 V 80" fill="none" stroke="var(--color-border)" stroke-width="2"/>
                            <path d="M120 100 H 170 V 140" fill="none" stroke="var(--color-border)" stroke-width="2"/>
                            <path d="M100 120 V 160 H 40 V 120" fill="none" stroke="var(--color-border)" stroke-width="2"/>
                            <path d="M80 100 H 30 V 60" fill="none" stroke="var(--color-border)" stroke-width="2"/>
                            <circle cx="160" cy="40" r="4" fill="url(#svg-grad)"/>
                            <circle cx="170" cy="140" r="4" fill="url(#svg-grad)"/>
                            <circle cx="40" cy="160" r="4" fill="url(#svg-grad)"/>
                            <circle cx="30" cy="60" r="4" fill="url(#svg-grad)"/>
                        </svg>
                    </div>
                </div>
                <div class="scroll-animate">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4 code-font">My Journey Into Technology</h2>
                    <div class="text-lg text-[var(--color-text-secondary)] space-y-4 prose-custom">
                        <p>I am a dedicated Computer Science and Engineering student at <strong class="text-[var(--color-text)]"><a href="https://www.ewubd.edu/" target="_blank">East West University</a></strong>, driven by a profound passion for technology and its potential to <strong class="text-[var(--color-text)]">solve real-world problems</strong>. My journey is fueled by a <strong class="text-[var(--color-text)]">relentless curiosity</strong>—from deconstructing complex algorithms to architecting software solutions, I am committed to building a <strong class="text-[var(--color-text)]">robust foundation</strong> for a career in AI and software development.</p>
                        <p>The academic environment at EWU challenges me to think critically and innovate, while my collaborative projects have taught me the <strong class="text-[var(--color-text)]">power of teamwork</strong>. I am not just learning to code; I am learning to build, to solve, and to create a better future through technology.</p>
                    </div>
                </div>
             </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-20 lg:py-32 px-4">
            <div class="container mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold scroll-animate code-font">Technical Toolbox</h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)] max-w-2xl mx-auto scroll-animate" style="transition-delay: 150ms;">
                        The primary languages, frameworks, and technologies I use to bring ideas to life.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-[var(--color-card-bg)] p-8 rounded-xl shadow-lg border border-[var(--color-border)] scroll-animate">
                        <div class="bg-blue-100 dark:bg-blue-900/50 p-3 rounded-full w-max mb-4"><i class="fas fa-code text-2xl text-blue-500"></i></div>
                        <h3 class="text-xl font-bold mb-2">Languages</h3>
                        <ul class="space-y-2 text-[var(--color-text-secondary)]">
                             <li><i class="fas fa-check text-green-500 mr-2"></i>Java</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>Python</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>C/C++</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>JavaScript (ES6+)</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>HTML5 & CSS3</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>SQL</li>
                         </ul>
                    </div>
                    <div class="bg-[var(--color-card-bg)] p-8 rounded-xl shadow-lg border border-[var(--color-border)] scroll-animate" style="transition-delay: 100ms;">
                         <div class="bg-purple-100 dark:bg-purple-900/50 p-3 rounded-full w-max mb-4"><i class="fas fa-brain text-2xl text-purple-500"></i></div>
                        <h3 class="text-xl font-bold mb-2">AI & Machine Learning</h3>
                        <ul class="space-y-2 text-[var(--color-text-secondary)]">
                             <li><i class="fas fa-check text-green-500 mr-2"></i>PyTorch & TensorFlow (Basics)</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>Natural Language Processing (NLP)</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>API Integration (Puter.js, Gemini)</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>Scikit-learn</li>
                         </ul>
                    </div>
                    <div class="bg-[var(--color-card-bg)] p-8 rounded-xl shadow-lg border border-[var(--color-border)] scroll-animate" style="transition-delay: 200ms;">
                         <div class="bg-red-100 dark:bg-red-900/50 p-3 rounded-full w-max mb-4"><i class="fas fa-gamepad text-2xl text-red-500"></i></div>
                        <h3 class="text-xl font-bold mb-2">Gaming & Modding</h3>
                        <ul class="space-y-2 text-[var(--color-text-secondary)]">
                             <li><i class="fas fa-check text-green-500 mr-2"></i>Unity & C# (Basics)</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>Unreal Engine (Blueprints)</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>GameMaker Studio</li>
                             <li><i class="fas fa-check text-green-500 mr-2"></i>Lua Scripting for Mods</li>
                         </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Experience Section -->
        <section id="experience" class="py-20 lg:py-32 px-4 bg-[var(--color-card-bg)] border-y border-[var(--color-border)]">
            <div class="container mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold scroll-animate code-font">Experience & Education</h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)] max-w-2xl mx-auto scroll-animate" style="transition-delay: 150ms;">
                       A timeline of my academic and practical learning journey in computer science.
                    </p>
                </div>
                <div class="max-w-3xl mx-auto relative scroll-animate">
                    <div class="bg-[var(--color-bg)] p-8 rounded-xl shadow-inner border border-[var(--color-border)] text-center">
                        <div class="experience-slide active">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">B.Sc. in Computer Science & Engineering</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">East West University, Dhaka | Expected Graduation: 2027</p>
                        </div>
                        <div class="experience-slide">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">Dedicated Lab Hours</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">University Labs | 2023 - Present</p>
                        </div>
                        <div class="experience-slide">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">Project-Based Learning</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">Coursework & Personal Initiatives</p>
                        </div>
                        <div class="experience-slide">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">Competitive Programming Participant</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">EWU Programming Club</p>
                        </div>
                        <div class="experience-slide">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">Open Source Contributor</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">Contributor to various utility libraries on GitHub.</p>
                        </div>
                        <div class="experience-slide">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">Agile & Scrum Workshop</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">Completed an intensive workshop on Agile methodologies.</p>
                        </div>
                        <div class="experience-slide">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">President, EWU Gaming Club</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">Organized gaming tournaments and modding workshops.</p>
                        </div>
                        <div class="experience-slide">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">Course: Advanced Database Systems</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">EWU, Dept. of CSE</p>
                        </div>
                        <div class="experience-slide">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">Course: Software Engineering Principles</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">EWU, Dept. of CSE</p>
                        </div>
                        <div class="experience-slide">
                            <h3 class="text-2xl font-bold text-[var(--color-primary)]">Personal Project: AI-Powered Discord Bot</h3>
                            <p class="mt-1 text-md text-[var(--color-text-secondary)]">Developed a bot using modern AI APIs for server moderation.</p>
                        </div>
                    </div>
                    <div class="text-center mt-6">
                        <button class="slider-btn prev-slide p-2 px-4 rounded-lg bg-[var(--color-card-bg)] border border-[var(--color-border)] hover:bg-[var(--color-primary)] hover:text-white transition-colors">❮</button>
                        <button class="slider-btn next-slide p-2 px-4 rounded-lg bg-[var(--color-card-bg)] border border-[var(--color-border)] hover:bg-[var(--color-primary)] hover:text-white transition-colors">❯</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-20 lg:py-32 px-4">
            <div class="container mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold scroll-animate code-font">Featured Projects</h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)] max-w-2xl mx-auto scroll-animate" style="transition-delay: 150ms;">
                        A selection of projects that showcase my skills in problem-solving and software development.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Project Cards will be populated here by JS -->
                </div>
            </div>
        </section>

        <!-- Blog Section -->
        <section id="blog" class="py-20 lg:py-32 px-4 bg-[var(--color-card-bg)] border-y border-[var(--color-border)]">
            <div class="container mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold scroll-animate code-font">My Perspective</h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)] max-w-2xl mx-auto scroll-animate" style="transition-delay: 150ms;">
                        Thoughts on technology, learning, and the journey of a student developer.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Blog Cards will be populated here by JS -->
                </div>
            </div>
        </section>

        <!-- AI Playground Section -->
        <section id="ai-playground" class="py-20 lg:py-32 px-4">
            <div class="container mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold scroll-animate code-font">AI Playground</h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)] max-w-2xl mx-auto scroll-animate" style="transition-delay: 150ms;">
                        Experiment with these AI-powered tools and explore other cutting-edge models.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                    <!-- AI Feature 1 -->
                    <div class="bg-[var(--color-card-bg)] p-6 rounded-xl shadow-lg border border-[var(--color-border)] scroll-animate">
                        <h4 class="text-xl font-bold mb-2">AI Project Idea Suggester</h4>
                        <p class="text-[var(--color-text-secondary)] mb-4">Get project ideas tailored to my skill set to see what I could build next.</p>
                        <button id="suggest-project-btn" class="w-full bg-[var(--color-primary)] text-white font-semibold py-2 px-4 rounded-lg hover:bg-[var(--color-primary-hover)] transition-colors flex items-center justify-center gap-2">
                            <i class="fas fa-lightbulb"></i> Suggest Projects
                        </button>
                        <div id="project-suggestion-output" class="mt-4 p-4 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] text-sm prose-custom" style="display: none;"></div>
                    </div>
                    <!-- AI Feature 2 -->
                    <div class="bg-[var(--color-card-bg)] p-6 rounded-xl shadow-lg border border-[var(--color-border)] scroll-animate" style="transition-delay: 100ms;">
                        <h4 class="text-xl font-bold mb-2">AI Tech Explainer</h4>
                        <p class="text-[var(--color-text-secondary)] mb-4">Ask about a technical concept, and get a simple explanation.</p>
                        <div class="flex gap-2">
                            <input type="text" id="tech-concept-input" placeholder="e.g., 'What is Docker?'" class="w-full p-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:ring-2 focus:ring-[var(--color-primary)] focus:outline-none">
                            <button id="explain-concept-btn" class="bg-[var(--color-primary)] text-white font-semibold py-2 px-4 rounded-lg hover:bg-[var(--color-primary-hover)] transition-colors flex items-center justify-center gap-2">
                                <i class="fas fa-wand-sparkles"></i>
                            </button>
                        </div>
                        <div id="tech-concept-output" class="mt-4 p-4 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] text-sm prose-custom" style="display: none;"></div>
                    </div>
                     <!-- AI Feature 3 -->
                    <div class="bg-[var(--color-card-bg)] p-6 rounded-xl shadow-lg border border-[var(--color-border)] scroll-animate" style="transition-delay: 200ms;">
                        <h4 class="text-xl font-bold mb-2">Talk With My AI</h4>
                        <p class="text-[var(--color-text-secondary)] mb-4">Have a conversation with my AI assistant. Ask it anything!</p>
                        <div class="flex gap-2">
                            <input type="text" id="ai-chat-input" placeholder="Type your message..." class="w-full p-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:ring-2 focus:ring-[var(--color-primary)] focus:outline-none">
                            <button id="ai-chat-btn" class="bg-[var(--color-primary)] text-white font-semibold py-2 px-4 rounded-lg hover:bg-[var(--color-primary-hover)] transition-colors flex items-center justify-center gap-2">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div id="ai-chat-output" class="mt-4 p-4 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] text-sm prose-custom" style="display: none;"></div>
                    </div>
                    <!-- AI Feature 4 -->
                    <div class="bg-[var(--color-card-bg)] p-6 rounded-xl shadow-lg border border-[var(--color-border)] scroll-animate" style="transition-delay: 300ms;">
                        <h4 class="text-xl font-bold mb-2">Explore Gemini & Llama</h4>
                        <p class="text-[var(--color-text-secondary)] mb-4">Try my strongest text and image generation models via this shared link.</p>
                        <a href="https://g.co/gemini/share/885e362a4788" target="_blank" rel="noopener noreferrer" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2">
                            Try Now <i class="fas fa-rocket"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer id="contact" class="bg-[var(--color-card-bg)] border-t border-[var(--color-border)]">
        <div class="container mx-auto px-6 py-12">
             <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold scroll-animate code-font">Get In Touch</h2>
                <p class="mt-4 text-lg text-[var(--color-text-secondary)] max-w-2xl mx-auto scroll-animate" style="transition-delay: 150ms;">
                   I'm always open to discussing technology, projects, or potential opportunities. Feel free to reach out!
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <!-- Contact Info -->
                <div class="bg-[var(--color-bg)] p-8 rounded-xl shadow-inner border border-[var(--color-border)] scroll-animate">
                    <h3 class="text-xl font-bold mb-4">Contact Information</h3>
                    <p class="text-[var(--color-text-secondary)] mb-6">The best ways to connect with me are via email or social media.</p>
                    <div class="space-y-4">
                        <a href="mailto:2024-3-60-229@std.ewubd.edu" class="flex items-center gap-4 text-[var(--color-text-secondary)] hover:text-[var(--color-primary)] transition-colors">
                            <i class="fas fa-envelope text-xl w-6 text-center text-[var(--color-primary)]"></i>
                            <span>2024-3-60-229@std.ewubd.edu</span>
                        </a>
                        <a href="tel:+8801883423390" class="flex items-center gap-4 text-[var(--color-text-secondary)] hover:text-[var(--color-primary)] transition-colors">
                            <i class="fas fa-phone text-xl w-6 text-center text-[var(--color-primary)]"></i>
                            <span>+8801883423390</span>
                        </a>
                    </div>
                    <div class="flex space-x-4 mt-8">
                         <a href="https://github.com/afnad" target="_blank" title="GitHub" class="text-2xl text-[var(--color-text-secondary)] hover:text-[var(--color-primary)] transition-colors"><i class="fab fa-github"></i></a>
                         <a href="https://www.linkedin.com/in/afnadnidul/" target="_blank" title="LinkedIn" class="text-2xl text-[var(--color-text-secondary)] hover:text-[var(--color-primary)] transition-colors"><i class="fab fa-linkedin"></i></a>
                         <a href="https://www.facebook.com/afnadverse" target="_blank" title="Facebook" class="text-2xl text-[var(--color-text-secondary)] hover:text-[var(--color-primary)] transition-colors"><i class="fab fa-facebook"></i></a>
                         <a href="https://www.instagram.com/afnad_verse/?hl=en" target="_blank" title="Instagram" class="text-2xl text-[var(--color-text-secondary)] hover:text-[var(--color-primary)] transition-colors"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <!-- Contact Form -->
                <div class="bg-[var(--color-bg)] p-8 rounded-xl shadow-inner border border-[var(--color-border)] scroll-animate" style="transition-delay: 100ms;">
                    <h3 class="text-xl font-bold mb-4">Send Me a Message</h3>
                    <form id="contact-form" name="contact" method="POST" data-netlify="true" class="space-y-4">
                        <input type="hidden" name="form-name" value="contact" />
                        <input type="text" name="name" placeholder="Your Name" required class="w-full p-3 rounded-lg bg-[var(--color-card-bg)] border border-[var(--color-border)] focus:ring-2 focus:ring-[var(--color-primary)] focus:outline-none transition-shadow">
                        <input type="email" name="email" placeholder="Your Email" required class="w-full p-3 rounded-lg bg-[var(--color-card-bg)] border border-[var(--color-border)] focus:ring-2 focus:ring-[var(--color-primary)] focus:outline-none transition-shadow">
                        <textarea name="message" id="contact-message" rows="4" placeholder="Your Message" required class="w-full p-3 rounded-lg bg-[var(--color-card-bg)] border border-[var(--color-border)] focus:ring-2 focus:ring-[var(--color-primary)] focus:outline-none transition-shadow"></textarea>
                        <div class="flex flex-col sm:flex-row gap-4">
                             <button type="button" id="refine-message-btn" class="w-full sm:w-auto flex-grow bg-[var(--color-card-bg)] text-[var(--color-text)] font-semibold py-2 px-4 rounded-lg border border-[var(--color-border)] hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center justify-center gap-2">
                                Refine with AI <i class="fas fa-wand-sparkles"></i>
                            </button>
                            <button type="submit" class="w-full sm:w-auto flex-grow bg-[var(--color-primary)] text-white font-semibold py-2 px-4 rounded-lg hover:bg-[var(--color-primary-hover)] transition-colors">Send Message</button>
                        </div>
                        <div id="form-status" class="mt-4 text-sm text-[var(--color-primary)]"></div>
                    </form>
                </div>
            </div>

            <div class="mt-12 text-center text-[var(--color-text-secondary)] border-t border-[var(--color-border)] pt-8 space-y-2">
                <p>Crafted by <span class="font-semibold text-[var(--color-text)]">Afnad</span> | CSE @ EWU | AI Enthusiast</p>
                <p>© 2025 Afnad. Made with <span class="text-red-500">♥</span> and a passion for code.</p>
            </div>
        </div>
    </footer>
    
    <!-- Modals -->
    <div id="project-modal" class="modal-overlay fixed inset-0 z-50 hidden items-center justify-center p-4">
        <div class="bg-[var(--color-card-bg)] rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 md:p-8 relative scroll-animate">
            <button class="close-modal absolute top-4 right-4 text-2xl text-[var(--color-text-secondary)] hover:text-[var(--color-primary)]">&times;</button>
            <h2 id="project-modal-title" class="text-3xl font-bold mb-4 code-font"></h2>
            <img id="project-modal-image" src="" alt="Project Image" class="w-full rounded-lg mb-6 border border-[var(--color-border)]">
            <div id="project-modal-description" class="prose-custom max-w-none text-[var(--color-text-secondary)]"></div>
            
            <div class="mt-6 p-4 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)]">
                <h4 class="text-lg font-bold mb-2">AI Code Explanation</h4>
                <button id="explain-code-btn" class="bg-[var(--color-primary)] text-white font-semibold py-2 px-4 rounded-lg hover:bg-[var(--color-primary-hover)] transition-colors flex items-center justify-center gap-2">
                    Explain Code <i class="fas fa-wand-sparkles"></i>
                </button>
                <div id="ai-explanation-output" class="mt-4 text-sm prose-custom" style="display:none;"></div>
            </div>
        </div>
    </div>

    <div id="blog-modal" class="modal-overlay fixed inset-0 z-50 hidden items-center justify-center p-4">
        <div class="bg-[var(--color-card-bg)] rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 md:p-8 relative scroll-animate">
            <button class="close-modal absolute top-4 right-4 text-2xl text-[var(--color-text-secondary)] hover:text-[var(--color-primary)]">&times;</button>
            <h2 id="blog-modal-title" class="text-3xl font-bold mb-4 code-font"></h2>
            <div id="blog-modal-content" class="prose-custom max-w-none text-[var(--color-text-secondary)] leading-relaxed"></div>
        </div>
    </div>


    <!-- Back to Top Button -->
    <a href="#home" id="back-to-top-btn" class="fixed bottom-[-100px] right-8 w-12 h-12 bg-[var(--color-primary)] text-white rounded-full flex items-center justify-center text-xl shadow-lg hover:bg-[var(--color-primary-hover)] transition-all duration-300 z-40">
        <i class="fas fa-arrow-up"></i>
    </a>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- DATA FOR DYNAMIC CONTENT ---
        const projectsData = [
            { img: "sudoko.png", alt: "AI Sudoku Solver Project", title: "AI Sudoku Solver", desc: "A Python application that uses a backtracking algorithm to solve any valid Sudoku puzzle, with a simple GUI.", details: `<p>This project demonstrates algorithmic problem-solving and foundational AI concepts.</p>`, code: `def solve_sudoku(board):\n    find = find_empty(board)\n    if not find:\n        return True\n    else:\n        row, col = find\n    for i in range(1, 10):\n        if valid(board, i, (row, col)):\n            board[row][col] = i\n            if solve_sudoku(board):\n                return True\n            board[row][col] = 0\n    return False`, codeLang: 'python' },
            { img: "passwordcheck.png", alt: "Password Strength Checker Project", title: "Password Strength Checker", desc: "A web tool built with JavaScript that provides real-time feedback on password strength based on multiple criteria.", details: `<p>This project showcases DOM manipulation and practical application of regular expressions.</p>`, code: `function checkStrength(password) {\n    let strength = 0;\n    if (password.match(/[a-z]+/)) { strength += 1; }\n    if (password.match(/[A-Z]+/)) { strength += 1; }\n    if (password.match(/[0-9]+/)) { strength += 1; }\n    if (password.match(/[$@#&!]+/)) { strength += 1; }\n    if (password.length > 8) { strength += 1; }\n    return strength;\n}`, codeLang: 'javascript' },
            { img: "datastructer.png", alt: "Data Structures Visualizer Project", title: "Data Structures Visualizer", desc: "An interactive web app to visualize data structures, making complex concepts easier to grasp.", details: `<p>This tool allows users to see operations like insertion, deletion, and traversal happen in real-time. Built with vanilla JavaScript, HTML, and CSS.</p>`, code: `const container = document.getElementById('visualizer-container');\nconst array = [20, 50, 30, 70, 10];\n\nfunction renderArray(arr) {\n    container.innerHTML = '';\n    arr.forEach(value => {\n        const bar = document.createElement('div');\n        bar.style.height = \`\${value * 3}px\`;\n        bar.classList.add('bar');\n        bar.textContent = value;\n        container.appendChild(bar);\n    });\n}\n\nrenderArray(array);`, codeLang: 'javascript' },
            { img: "weather.png", alt: "Live Weather App Project", title: "Live Weather App", desc: "A responsive weather forecast app that fetches and displays real-time weather data from an API.", details: `<p>Showcases asynchronous programming with \`fetch\` and dynamic DOM manipulation.</p>`, code: `async function getWeather(city) {\n    const apiKey = 'YOUR_API_KEY';\n    const url = \`https://api.openweathermap.org/data/2.5/weather?q=\${city}&appid=\${apiKey}&units=metric\`;\n    \n    try {\n        const response = await fetch(url);\n        const data = await response.json();\n        // ... update DOM elements ...\n    } catch (error) {\n        console.error('Failed to fetch weather:', error);\n    }\n}`, codeLang: 'javascript' },
            { img: "newsscraper.png", alt: "Python News Scraper Project", title: "Python News Scraper", desc: "A web scraper built with Python to extract and display the latest headlines from a news website.", details: `<p>Demonstrates skills in using libraries like BeautifulSoup and Requests.</p>`, code: `import requests\nfrom bs4 import BeautifulSoup\n\ndef scrape_headlines(url):\n    response = requests.get(url)\n    soup = BeautifulSoup(response.text, 'html.parser')\n    headlines = []\n    for h2 in soup.find_all('h2', limit=5):\n        headlines.append(h2.get_text(strip=True))\n    return headlines`, codeLang: 'python' },
            { img: "rockpaperscissiors.png", alt: "Rock Paper Scissors Game", title: "Rock Paper Scissors", desc: "The classic game brought to life with JavaScript. A fun project demonstrating event handling and basic game logic.", details: `<p>An interactive web game that allows a user to play against the computer.</p>`, code: `function playGame(playerChoice) {\n    const choices = ['rock', 'paper', 'scissors'];\n    const computerChoice = choices[Math.floor(Math.random() * 3)];\n    // ... game logic ...\n}`, codeLang: 'javascript' }
        ];

        const blogData = [
            { title: "The 'Why' Behind Data Structures & Algorithms", desc: "They aren't just interview questions; they're the blueprints of efficient software. Understanding them is what separates a coder from an engineer.", content: `<p>Many students see Data Structures and Algorithms (DS&A) as a hurdle—a set of abstract problems to memorize for technical interviews. But their true value lies far beyond that. DS&A are the fundamental building blocks of computer science. They are the tools we use to organize, manage, and process data efficiently.</p><p>Choosing the right data structure, like a hash map over an array for quick lookups, can be the difference between an application that runs in milliseconds and one that takes minutes. A well-designed algorithm, understood through the lens of Big O notation, can solve a problem at a scale that brute force cannot. It's about learning to think about trade-offs: time complexity versus space complexity, readability versus performance. This mindset—the ability to analyze a problem and select the most effective tools to solve it—is the hallmark of a true software engineer.</p>` },
            { title: "First Hackathon: Lessons in Code & Collaboration", desc: "Beyond the code, I learned about the power of a shared goal and the intensity of a deadline. It was less about winning, more about rapid growth.", content: `<p>A 24-hour hackathon is an exhilarating, exhausting, and incredibly educational experience. My first one was a whirlwind of caffeine, collaboration, and countless Git commits. We set out to build a campus navigation app, and while the final product was far from perfect, the lessons learned were invaluable.</p><p>I learned to rapidly prototype, focusing on a minimum viable product (MVP) instead of getting lost in details. I learned to communicate technical ideas clearly with my team, even when we were all sleep-deprived. Most importantly, I learned that a team with a shared vision can achieve remarkable things in a very short time. The pressure-cooker environment forced me to solve problems faster and more creatively than I ever thought possible.</p>` },
            { title: "Why Your Portfolio is Your Most Important Project", desc: "A portfolio tells a story that grades can't. It's a living showcase of your passion and skills, demonstrating what you can create.", content: `<p>Your GPA and course list show that you can learn. Your portfolio shows that you can *build*. In the tech world, that distinction is everything. A well-crafted portfolio is a narrative of your journey as a developer. Each project is a chapter, showcasing a new skill, a problem you solved, or a technology you mastered.</p><p>It's your chance to go beyond the resume and demonstrate your passion. It proves you're a self-starter who codes not just for classes, but because you love to create. It's a platform to experiment, to fail, and to learn publicly. For a recruiter or hiring manager, a link to a live, interactive portfolio is often more compelling than any cover letter.</p>` },
            { title: "The AI Revolution: An Opportunity, Not a Threat", desc: "AI isn't here to replace developers; it's here to augment them. Learning to leverage tools like Gemini is the next essential skill.", content: `<p>The rise of Large Language Models (LLMs) and accessible AI APIs is changing the landscape of software development. For us as students, this isn't a threat—it's an enormous opportunity. The engineers of tomorrow won't just be building applications; they'll be building applications that are intelligent.</p><p>This means we need to focus on more than just traditional programming. We need to understand the fundamentals of machine learning, know how to work with APIs like Gemini, and learn how to "prompt engineer" to get the best results from these powerful tools. By embracing AI now, we are not just preparing for the future of our field; we are preparing to build it.</p>`},
            { title: "From Gamer to Game Dev: My Journey into Modding", desc: "Breaking games is the best way to learn how to make them. Modding taught me more about game logic and architecture than any textbook could.", content: `<p>My passion for coding started with a passion for gaming. I didn't just want to play games; I wanted to understand how they worked. That curiosity led me to the world of modding. Reverse-engineering game files, writing Lua scripts to change gameplay mechanics, and creating custom assets taught me invaluable lessons.</p><p>It was a practical, hands-on education in core development principles: state management, event-driven programming, and asset pipelines. It showed me how a different systems in a complex piece of software interact. More than anything, it taught me how to read, understand, and build upon a large, existing codebase—a skill that is absolutely critical in the professional world.</p>`},
            { title: "The Reality of Tech Jobs vs. University Projects", desc: "University teaches you the 'how'. The real world teaches you the 'why'—and the 'how' again, but this time with legacy code and tight deadlines.", content: `<p>In university, projects are often greenfield. You start from a blank slate, with clear requirements and a defined endpoint. The goal is to demonstrate that you understand a specific concept. The professional world is different. You're often thrown into a massive, years-old codebase with technical debt, vague requirements, and shifting priorities.</p><p>The challenge is no longer just "can you build this?" but "can you understand this complex system, find the right place to make a change, and do so without breaking anything else?" It's a world of code reviews, team meetings, and constant communication. Soft skills become just as important as technical prowess. The transition can be jarring, but it's where the most significant learning and growth happens.</p>`}
        ];

        // --- DYNAMIC CONTENT INJECTION ---
        const projectsGrid = document.querySelector('#projects .grid');
        projectsData.forEach((project, index) => {
            const card = document.createElement('div');
            card.className = 'project-card bg-[var(--color-card-bg)] rounded-xl shadow-lg border border-[var(--color-border)] overflow-hidden flex flex-col scroll-animate';
            card.style.transitionDelay = `${index * 100}ms`;
            card.innerHTML = `
                <img src="${project.img}" alt="${project.alt}" loading="lazy" class="w-full h-56 object-cover">
                <div class="p-6 flex flex-col flex-grow">
                    <h3 class="text-xl font-bold mb-2">${project.title}</h3>
                    <p class="text-[var(--color-text-secondary)] mb-4 flex-grow">${project.desc}</p>
                    <button class="project-preview-btn mt-auto w-full text-center bg-[var(--color-card-bg)] text-[var(--color-text)] font-bold py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-300 border border-[var(--color-border)]">View Details</button>
                    <div class="project-details-hidden hidden">
                        ${project.details}
                        <div class="code-block-wrapper mt-4">
                            <details>
                                <summary class="cursor-pointer font-semibold">View Code</summary>
                                <pre><code class="language-${project.codeLang}">${project.code.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</code></pre>
                            </details>
                        </div>
                    </div>
                </div>
            `;
            projectsGrid.appendChild(card);
        });

        const blogGrid = document.querySelector('#blog .grid');
        blogData.forEach((post, index) => {
            const card = document.createElement('div');
            card.className = 'blog-card bg-[var(--color-card-bg)] p-6 rounded-xl shadow-lg border border-[var(--color-border)] flex flex-col cursor-pointer hover:-translate-y-2 transition-transform duration-300 scroll-animate';
            card.style.transitionDelay = `${index * 100}ms`;
            card.innerHTML = `
                <h3 class="text-xl font-bold mb-2">${post.title}</h3>
                <p class="text-[var(--color-text-secondary)] flex-grow">${post.desc}</p>
                <span class="mt-4 font-semibold text-[var(--color-primary)]">Read More →</span>
                <div class="blog-full-content hidden">${post.content}</div>
            `;
            blogGrid.appendChild(card);
        });


        // --- 1. THREE.JS 3D PARTICLE BACKGROUND ---
        let scene, camera, renderer, particles;
        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;
        let mouseX = 0, mouseY = 0;

        function init3D() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 10000);
            camera.position.z = 1000;

            const particleCount = 5000;
            const particlesGeometry = new THREE.BufferGeometry();
            const posArray = new Float32Array(particleCount * 3);
            for (let i = 0; i < particleCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 2000;
            }
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

            const particleMaterial = new THREE.PointsMaterial({
                size: 1.5,
                color: 0x3b82f6,
                transparent: true,
                blending: THREE.AdditiveBlending,
                depthWrite: false,
            });

            particles = new THREE.Points(particlesGeometry, particleMaterial);
            scene.add(particles);

            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        }

        function animate3D() {
            requestAnimationFrame(animate3D);
            const time = Date.now() * 0.00005;
            camera.position.x += (mouseX - camera.position.x) * 0.05;
            camera.position.y += (-mouseY - camera.position.y) * 0.05;
            camera.lookAt(scene.position);
            particles.rotation.x = time * 0.25;
            particles.rotation.y = time * 0.5;
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function onDocumentMouseMove(event) {
            mouseX = (event.clientX - windowHalfX) / 2;
            mouseY = (event.clientY - windowHalfY) / 2;
        }
        
        init3D();
        animate3D();
        window.addEventListener('resize', onWindowResize);
        document.addEventListener('mousemove', onDocumentMouseMove);


        // --- 2. THEME (LIGHT/DARK MODE) TOGGLE ---
        const themeToggleBtn = document.getElementById('theme-toggle');
        const lightIcon = document.getElementById('theme-icon-light');
        const darkIcon = document.getElementById('theme-icon-dark');
        
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            darkIcon.classList.remove('hidden');
            lightIcon.classList.add('hidden');
        } else {
            document.documentElement.classList.remove('dark');
        }

        themeToggleBtn.addEventListener('click', () => {
            const isDark = document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            darkIcon.classList.toggle('hidden', !isDark);
            lightIcon.classList.toggle('hidden', isDark);
        });

        // --- 3. HEADER & UI EFFECTS ---
        const header = document.getElementById('main-header');
        const backToTopBtn = document.getElementById('back-to-top-btn');
        window.addEventListener('scroll', () => {
            header.classList.toggle('glass-header', window.scrollY > 50);
            backToTopBtn.classList.toggle('bottom-8', window.scrollY > 300);
            backToTopBtn.classList.toggle('bottom-[-100px]', window.scrollY <= 300);
        });

        // --- 4. MOBILE MENU TOGGLE ---
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        mobileMenu.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') mobileMenu.classList.add('hidden');
        });

        // --- 5. SCROLL-TRIGGERED ANIMATIONS ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.scroll-animate').forEach(el => observer.observe(el));

        // --- 6. AFNAD'S CUSTOM JS INTEGRATION ---
        
        // Typing Animation
        const typingElement = document.querySelector('.typing-animation');
        if (typingElement) {
            const words = ["curiosity.", "code.", "innovation.", "problem-solving."];
            let wordIndex = 0, charIndex = 0, isDeleting = false;
            function type() {
                const currentWord = words[wordIndex];
                typingElement.textContent = currentWord.substring(0, charIndex);
                if (!isDeleting && charIndex < currentWord.length) { charIndex++; setTimeout(type, 150); } 
                else if (isDeleting && charIndex > 0) { charIndex--; setTimeout(type, 100); } 
                else { isDeleting = !isDeleting; if (!isDeleting) wordIndex = (wordIndex + 1) % words.length; setTimeout(type, 1200); }
            }
            type();
        }

        // Active Nav Link on Scroll
        const sections = document.querySelectorAll('main > section');
        const navLinks = document.querySelectorAll('nav .nav-link');
        if (sections.length && navLinks.length) {
            const navObserver = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: '-40% 0px -60% 0px' });
            sections.forEach(section => navObserver.observe(section));
        }

        // Experience Slider
        const slides = document.querySelectorAll('.experience-slide');
        if (slides.length > 0) {
            let currentSlide = 0;
            const showSlide = (n) => {
                slides.forEach((slide) => slide.classList.remove('active'));
                slides[n].classList.add('active');
            };
            document.querySelector('.next-slide')?.addEventListener('click', () => { currentSlide = (currentSlide + 1) % slides.length; showSlide(currentSlide); });
            document.querySelector('.prev-slide')?.addEventListener('click', () => { currentSlide = (currentSlide - 1 + slides.length) % slides.length; showSlide(currentSlide); });
            showSlide(0);
        }

        // Modal Handling
        let activeCodeToExplain = '';
        function setupModal(modalId, triggerSelector, contentSetupCallback) {
            const modal = document.getElementById(modalId);
            if (!modal) return;
            const closeBtns = modal.querySelectorAll('.close-modal');

            const openModal = () => { modal.classList.remove('hidden'); modal.classList.add('flex'); document.body.style.overflow = 'hidden'; };
            const closeModal = () => { modal.classList.add('hidden'); modal.classList.remove('flex'); document.body.style.overflow = ''; };

            document.querySelectorAll(triggerSelector).forEach(trigger => {
                trigger.addEventListener('click', (e) => {
                    e.preventDefault();
                    contentSetupCallback(trigger, modal);
                    openModal();
                });
            });
            closeBtns.forEach(btn => btn.addEventListener('click', closeModal));
            modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
        }

        // Project Modal Setup
        setupModal('project-modal', '.project-preview-btn', (cardTrigger, modal) => {
            const card = cardTrigger.closest('.project-card');
            modal.querySelector('#project-modal-title').textContent = card.querySelector('h3').textContent;
            modal.querySelector('#project-modal-image').src = card.querySelector('img').src;
            const descContainer = modal.querySelector('#project-modal-description');
            descContainer.innerHTML = card.querySelector('.project-details-hidden').innerHTML;
            
            const codeEl = descContainer.querySelector('code');
            if(codeEl) {
                activeCodeToExplain = codeEl.innerText || '';
                Prism.highlightElement(codeEl);
            }
            
            modal.querySelector('#ai-explanation-output').style.display = 'none';
            modal.querySelector('#ai-explanation-output').innerHTML = '';
        });

        // Blog Modal Setup
        setupModal('blog-modal', '.blog-card', (cardTrigger, modal) => {
            modal.querySelector('#blog-modal-title').textContent = cardTrigger.querySelector('h3').textContent;
            modal.querySelector('#blog-modal-content').innerHTML = cardTrigger.querySelector('.blog-full-content').innerHTML;
        });

        // --- PUTER.JS AI FEATURES ---
        function markdownToHtml(text) {
            return text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/```(.*?)```/gs, (match, p1) => `<pre><code class="language-none">${p1.trim()}</code></pre>`)
                .replace(/`([^`]+)`/g, '<code class="inline-code bg-[var(--color-bg)] px-1 rounded">$1</code>')
                .replace(/\n/g, '<br>');
        }

        async function callPuterAI(prompt, buttonToDisable, outputContainerId) {
            const outputContainer = document.getElementById(outputContainerId);
            const originalButtonHTML = buttonToDisable.innerHTML;
            buttonToDisable.disabled = true;
            buttonToDisable.innerHTML = '<span class="loader"></span>';
            if(outputContainer) {
                outputContainer.style.display = 'block';
                outputContainer.innerHTML = '';
            }

            try {
                const stream = await puter.ai.chat(prompt, { model: 'openrouter:meta-llama/llama-3.1-8b-instruct', stream: true });
                let fullResponse = '';
                outputContainer.innerHTML = '<p>Generating response...</p>';
                for await (const part of stream) {
                    if (part?.text) {
                        fullResponse += part.text;
                        outputContainer.innerHTML = markdownToHtml(fullResponse);
                    }
                }
                Prism.highlightAllUnder(outputContainer);
                return fullResponse;
            } catch (error) {
                console.error('Puter AI call failed:', error);
                if(outputContainer) {
                    outputContainer.innerHTML = '<p class="text-red-500">Sorry, the AI feature is currently unavailable.</p>';
                }
                return null;
            } finally {
                buttonToDisable.disabled = false;
                buttonToDisable.innerHTML = originalButtonHTML;
            }
        }

        document.getElementById('suggest-project-btn')?.addEventListener('click', (e) => {
            const prompt = `You are an AI assistant. Suggest three unique project ideas (Beginner, Intermediate, Advanced) for a CSE student skilled in Java, Python, and JavaScript. For each, provide a title and a 2-3 sentence description. Format the response cleanly using markdown (e.g., **Title:** Description).`;
            callPuterAI(prompt, e.currentTarget, 'project-suggestion-output');
        });

        document.getElementById('explain-concept-btn')?.addEventListener('click', (e) => {
            const concept = document.getElementById('tech-concept-input').value.trim();
            if (!concept) { document.getElementById('tech-concept-input').focus(); return; }
            const prompt = `Explain the computer science concept "${concept}" in a simple, easy-to-understand way for a beginner. Use an analogy if possible.`;
            callPuterAI(prompt, e.currentTarget, 'tech-concept-output');
        });

        document.getElementById('ai-chat-btn')?.addEventListener('click', (e) => {
            const chatInput = document.getElementById('ai-chat-input');
            const message = chatInput.value.trim();
            if (!message) { chatInput.focus(); return; }
            const prompt = `You are a helpful and friendly AI assistant integrated into a student's portfolio. Respond to the following user message: "${message}"`;
            callPuterAI(prompt, e.currentTarget, 'ai-chat-output');
            chatInput.value = '';
        });

        document.getElementById('explain-code-btn')?.addEventListener('click', (e) => {
            if (!activeCodeToExplain) return;
            const prompt = `Explain this code snippet clearly and concisely for a student learning to code. Break down what each line or block does:\n\`\`\`\n${activeCodeToExplain}\n\`\`\``;
            callPuterAI(prompt, e.currentTarget, 'ai-explanation-output');
        });
        
        document.getElementById('refine-message-btn')?.addEventListener('click', async (e) => {
            const messageTextarea = document.getElementById('contact-message');
            if (!messageTextarea.value.trim()) { messageTextarea.focus(); return; }
            const prompt = `Refine this message to be more professional, clear, and concise, while retaining the original friendly intent. Just provide the refined text, no preamble.\n\nOriginal: "${messageTextarea.value}"`;
            const button = e.currentTarget;
            const status = document.getElementById('form-status');
            
            const refinedMessage = await callPuterAI(prompt, button, 'form-status');
            if (refinedMessage) {
                let cleanedMessage = refinedMessage.trim().replace(/^"|"$/g, '');
                messageTextarea.value = cleanedMessage;
                status.textContent = 'Message refined by AI ✨';
                setTimeout(() => status.textContent = '', 4000);
            } else {
                status.textContent = 'AI refinement failed.';
            }
        });
    });
    </script>
</body>
</html>